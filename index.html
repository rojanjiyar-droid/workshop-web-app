<!DOCTYPE html>
<html dir="rtl" lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<title>Ú©Ù„Ø´ÛŒÙÙˆÙ…</title>
<style>
body{font-family:Tahoma;background:#f0f8ff;color:#333;padding:20px;text-align:center}
.login{max-width:400px;margin:50px auto;background:white;padding:40px;border-radius:20px;box-shadow:0 10px 30px rgba(0,0,0,0.1)}
input{width:100%;padding:15px;margin:10px 0;border:2px solid #ddd;border-radius:10px;font-size:18px;box-sizing:border-box}
button{width:100%;padding:15px;background:#27ae60;color:white;border:none;border-radius:10px;font-size:20px;font-weight:bold;cursor:pointer}
button:hover{background:#219a52}
.app{display:none;background:white;padding:20px;border-radius:20px;max-width:800px;margin:20px auto;box-shadow:0 10px 30px rgba(0,0,0,0.1)}
nav{display:flex;background:#2c3e50;padding:10px;border-radius:10px 10px 0 0;overflow-x:auto}
.navbtn{background:none;color:white;border:none;padding:15px 20px;cursor:pointer;flex:1;font-size:16px}
.navbtn.active{background:#3498db}
.content{padding:20px}
table{width:100%;border-collapse:collapse;margin-top:20px}
th,td{padding:12px;text-align:right;border-bottom:1px solid #eee}
th{background:#34495e;color:white}
tr:hover{background:#f0f8ff}
.stats{display:grid;grid-template-columns:repeat(auto-fit,1fr);gap:20px;margin:20px 0}
.stat{background:#e8f5e8;padding:20px;border-radius:10px;text-align:center}
</style>
</head>
<body>

<div class="login">
<h1 style="color:#2c3e50;margin-bottom:30px">ğŸ­ Ú©Ù„Ø´ÛŒÙÙˆÙ…</h1>
<input id="user" value="admin" placeholder="Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ">
<input id="pass" type="password" value="1234" placeholder="Ø±Ù…Ø²">
<button onclick="login()">ÙˆØ±ÙˆØ¯</button>
<div style="margin-top:20px;color:#666;font-size:14px">
<b>admin / 1234</b><br>
ÙÙ‚Ø· Enter Ø¨Ø²Ù†!
</div>
</div>

<div class="app" id="app">
<header style="background:#3498db;color:white;padding:20px;border-radius:10px 10px 0 0">
<h2 style="margin:0">ğŸ­ Ú©Ù„Ø´ÛŒÙÙˆÙ…</h2>
<div id="date"></div>
<span id="userwelcome"></span>
<button onclick="logout()" style="float:left;background:#e74c3c;color:white;border:none;padding:10px 20px;border-radius:5px;cursor:pointer">Ø®Ø±ÙˆØ¬</button>
</header>

<nav>
<button class="navbtn active" onclick="show('dash')">Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯</button>
<button class="navbtn" onclick="show('con')">Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯</button>
<button class="navbtn" onclick="show('chk')">Ú†Ú©</button>
<button class="navbtn" onclick="show('fin')">Ù…Ø§Ù„ÛŒ</button>
<button class="navbtn" onclick="show('bak')">Ù¾Ø´ØªÛŒØ¨Ø§Ù†</button>
</nav>

<div class="content">
<div id="dash" style="display:block">
<div class="stats">
<div class="stat">
<div style="font-size:36px;font-weight:bold;color:#27ae60" id="totcon">0</div>
Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯
</div>
<div class="stat">
<div style="font-size:36px;font-weight:bold;color:#f39c12" id="totchk">0</div>
Ú†Ú©
</div>
<div class="stat">
<div style="font-size:36px;font-weight:bold;color:#27ae60" id="balance">0</div>
ØªØ±Ø§Ø²
</div>
</div>
<button onclick="backup()" style="width:100%;padding:15px;background:#27ae60;color:white;border:none;border-radius:10px;font-size:18px;cursor:pointer;margin:20px 0">ğŸ’¾ Ù¾Ø´ØªÛŒØ¨Ø§Ù†</button>
</div>

<div id="con" style="display:none">
<input id="conname" placeholder="Ù†Ø§Ù… Ù…Ø´ØªØ±ÛŒ">
<input id="conamt" type="number" placeholder="Ù…Ø¨Ù„Øº">
<button onclick="addcon()" style="width:100%;padding:15px;background:#27ae60;color:white;border:none;border-radius:10px;font-size:18px;cursor:pointer;margin:20px 0">Ø«Ø¨Øª</button>
<table id="contab">
<thead><tr><th>Ù…Ø´ØªØ±ÛŒ</th><th>Ù…Ø¨Ù„Øº</th><th>Ø­Ø°Ù</th></tr></thead>
<tbody></tbody>
</table>
</div>

<div id="chk" style="display:none">
<input id="chkno" placeholder="Ø´Ù…Ø§Ø±Ù‡ Ú†Ú©">
<input id="chkamt" type="number" placeholder="Ù…Ø¨Ù„Øº">
<select id="chkst" style="width:100%;padding:15px;border:2px solid #ddd;border-radius:10px;font-size:16px">
<option>Ø¬Ø§Ø±ÛŒ</option><option>ÙˆØµÙˆÙ„</option>
</select>
<button onclick="addchk()" style="width:100%;padding:15px;background:#27ae60;color:white;border:none;border-radius:10px;font-size:18px;cursor:pointer;margin:20px 0">Ø«Ø¨Øª</button>
<table id="chktab">
<thead><tr><th>Ø´Ù…Ø§Ø±Ù‡</th><th>Ù…Ø¨Ù„Øº</th><th>ÙˆØ¶Ø¹ÛŒØª</th><th>Ø­Ø°Ù</th></tr></thead>
<tbody></tbody>
</table>
</div>

<div id="fin" style="display:none">
<input id="findes" placeholder="Ø´Ø±Ø­">
<input id="finamt" type="number" placeholder="Ù…Ø¨Ù„Øº">
<select id="finty" style="width:100%;padding:15px;border:2px solid #ddd;border-radius:10px;font-size:16px">
<option value="in">Ø¯Ø±Ø¢Ù…Ø¯</option><option value="out">Ù‡Ø²ÛŒÙ†Ù‡</option>
</select>
<button onclick="addfin()" style="width:100%;padding:15px;background:#27ae60;color:white;border:none;border-radius:10px;font-size:18px;cursor:pointer;margin:20px 0">Ø«Ø¨Øª</button>
<table id="fintab">
<thead><tr><th>Ø´Ø±Ø­</th><th>Ù…Ø¨Ù„Øº</th><th>Ù†ÙˆØ¹</th><th>Ø­Ø°Ù</th></tr></thead>
<tbody></tbody>
</table>
</div>

<div id="bak" style="display:none">
<button onclick="download()" style="width:100%;padding:20px;background:#3498db;color:white;border:none;border-radius:10px;font-size:18px;cursor:pointer;margin-bottom:15px">Ø¯Ø§Ù†Ù„ÙˆØ¯ JSON</button>
<input type="file" id="file" style="display:none" accept=".json" onchange="upload(event)">
<button onclick="document.getElementById('file').click()" style="width:100%;padding:20px;background:#f39c12;color:white;border:none;border-radius:10px;font-size:18px;cursor:pointer">Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ</button>
<button onclick="clearall()" style="width:100%;padding:20px;background:#e74c3c;color:white;border:none;border-radius:10px;font-size:18px;cursor:pointer;margin-top:15px">Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ù‡Ù…Ù‡</button>
<div id="info" style="margin-top:30px;padding:20px;background:#f0f8ff;border-radius:10px"></div>
</div>
</div>
</div>

<script>
var data=JSON.parse(localStorage.data||'{"c":[],"k":[],"f":[],"v":"5"}');
function login(){
if(document.getElementById('user').value=='admin'&&document.getElementById('pass').value=='1234'){
document.querySelector('.login').style.display='none';
document.getElementById('app').style.display='block';
document.getElementById('userwelcome').innerHTML='Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯';
loadall();
setInterval(date,3e4);
}else{alert('admin / 1234')}
}
function save(){localStorage.data=JSON.stringify(data)}
function loadall(){loaddash();loadcon();loadchk();loadfin();loadinfo()}
function loaddash(){
document.getElementById('totcon').innerHTML=data.c.length;
document.getElementById('totchk').innerHTML=data.k.length;
var b=data.f.reduce((s,i)=>i.t=='in'?s+i.a:s-i.a,0);
document.getElementById('balance').innerHTML=b.toLocaleString()+' ØªÙˆÙ…Ø§Ù†'
}
function loadcon(){
var t=document.querySelector('#contab tbody');
t.innerHTML=data.c.map(i=>`<tr><td>${i.n}</td><td>${i.a.toLocaleString()}</td><td><button onclick="delcon('${i.id}')">Ø­Ø°Ù</button></td></tr>`).join('')||'<tr><td colspan=3>Ø®Ø§Ù„ÛŒ</td></tr>'
}
function addcon(){
var n=document.getElementById('conname').value,a=+document.getElementById('conamt').value;
if(n&&a){data.c.unshift({id:Date.now(),n:n,a:a});save();loadcon();loaddash();alert('âœ…')}
document.getElementById('conname').value=document.getElementById('conamt').value=''
}
function delcon(id){if(confirm('?')){data.c=data.c.filter(i=>i.id!=id);save();loadcon();loaddash()}}
function loadchk(){
var t=document.querySelector('#chktab tbody');
t.innerHTML=data.k.map(i=>`<tr><td>${i.n}</td><td>${i.a.toLocaleString()}</td><td>${i.s}</td><td><button onclick="delchk('${i.id}')">Ø­Ø°Ù</button></td></tr>`).join('')||'<tr><td colspan=4>Ø®Ø§Ù„ÛŒ</td></tr>'
}
function addchk(){
var n=document.getElementById('chkno').value,a=+document.getElementById('chkamt').value,s=document.getElementById('chkst').value;
if(n&&a){data.k.unshift({id:Date.now(),n:n,a:a,s:s});save();loadchk();loaddash();alert('âœ…')}
document.getElementById('chkno').value=document.getElementById('chkamt').value=''
}
function delchk(id){if(confirm('?')){data.k=data.k.filter(i=>i.id!=id);save();loadchk();loaddash()}}
function loadfin(){
var t=document.querySelector('#fintab tbody');
t.innerHTML=data.f.map(i=>`<tr><td>${i.d}</td><td>${i.a.toLocaleString()}</td><td>${i.t=='in'?'Ø¯Ø±Ø¢Ù…Ø¯':'Ù‡Ø²ÛŒÙ†Ù‡'}</td><td><button onclick="delfin('${i.id}')">Ø­Ø°Ù</button></td></tr>`).join('')||'<tr><td colspan=4>Ø®Ø§Ù„ÛŒ</td></tr>'
}
function addfin(){
var d=document.getElementById('findes').value,a=+document.getElementById('finamt').value,t=document.getElementById('finty').value;
if(d&&a){data.f.unshift({id:Date.now(),d:d,a:a,t:t});save();loadfin();loaddash();alert('âœ…')}
document.getElementById('findes').value=document.getElementById('finamt').value=''
}
function delfin(id){if(confirm('?')){data.f=data.f.filter(i=>i.id!=id);save();loadfin();loaddash()}}
function download(){
var b=new Blob([JSON.stringify(data,null,2)],{type:'application/json'}),u=URL.createObjectURL(b),a=document.createElement('a');
a.href=u;a.download='kaleshi.json';a.click();URL.revokeObjectURL(u);alert('âœ…')
}
function upload(e){
var f=e.target.files[0],r=new FileReader();
r.onload=()=>{try{data=JSON.parse(r.result);save();loadall();alert('âœ…')}catch(e){alert('âŒ')}}
r.readAsText(f)
}
function clearall(){if(confirm('Ù‡Ù…Ù‡ØŸ')){localStorage.removeItem('data');location.reload()}}
function loadinfo(){
document.getElementById('info').innerHTML='Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯: '+data.c.length+' | Ú†Ú©: '+data.k.length+' | Ù…Ø§Ù„ÛŒ: '+data.f.length+' | Ø­Ø¬Ù…: '+(JSON.stringify(data).length/1024).toFixed(1)+'KB'
}
function date(){document.getElementById('date').innerHTML=new Date().toLocaleDateString('fa')}
function show(x){
document.querySelectorAll('.page').forEach(i=>i.style.display='none');
document.querySelectorAll('.navbtn').forEach(i=>i.classList.remove('active'));
document.getElementById(x).style.display='block';
event.target.classList.add('active')
}
function logout(){location.reload()}
document.onkeypress=e=>{if(e.keyCode==13&&document.querySelector('.login'))login()}
date();
</script>

</body>
</html>
